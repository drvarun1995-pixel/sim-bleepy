# How to Create Storage Bucket for Placements

## üìã Step-by-Step Guide

### Step 1: Access Supabase Dashboard

1. Go to [Supabase Dashboard](https://app.supabase.com)
2. Log in with your credentials
3. Select your project

---

### Step 2: Navigate to Storage

1. In the left sidebar, click on **Storage**
2. You'll see a list of existing buckets (if any)

---

### Step 3: Create New Bucket

1. Click the **"New bucket"** button (usually at the top right)
2. You'll see a dialog/modal with bucket settings

---

### Step 4: Configure Bucket Settings

Fill in the following settings:

#### **Bucket Name:**
```
placements
```
- **Important:** Use exactly `placements` (lowercase, no spaces)
- This is the dedicated bucket for placements documents

#### **Public Bucket:**
- Select **"No"** (unchecked)
- This keeps the bucket private
- Files will be accessible via public URLs (which Supabase generates)

#### **File Size Limit:**
- Enter: `52428800` (this is 50MB in bytes)
- Or: `52428800` bytes = 50 MB
- This allows files up to 50MB to be uploaded

#### **Allowed MIME Types:**
- Leave this field **empty** (or blank)
- This allows all file types
- The API code handles file type validation

---

### Step 5: Create the Bucket

1. Review your settings:
   - ‚úÖ Name: `placements`
   - ‚úÖ Public: `No`
   - ‚úÖ File size limit: `52428800` (50MB)
   - ‚úÖ Allowed MIME types: (empty)

2. Click **"Create bucket"** or **"Save"**

---

### Step 6: Verify Bucket Creation

1. You should see the `placements` bucket in your buckets list
2. Click on it to view its details
3. Verify the settings match what you configured

---

## ‚úÖ Verification Checklist

After creating the bucket, verify:

- [ ] Bucket name is exactly `placements`
- [ ] Bucket is **not** public (private bucket)
- [ ] File size limit is set to `52428800` (50MB)
- [ ] Bucket appears in your Storage ‚Üí Buckets list

---

## üìù Notes

### Why "placements" bucket?
- The placements system uses its own dedicated `placements` bucket
- This keeps placement documents separate from other resources
- Documents are stored directly in the bucket (organized by specialty/page ID)

### File Size Limit
- 50MB is the maximum file size for placement documents
- This is set in the API code: `app/api/placements/documents/route.ts`
- If you need to change this, update both:
  1. The bucket setting in Supabase
  2. The code constant in the API route

### Public vs Private
- Bucket is **private** (for security)
- Files are accessed via **public URLs** generated by Supabase
- The API code handles URL generation automatically

---

## üîß If Bucket Already Exists

If the `placements` bucket already exists:

1. **Check its settings:**
   - Go to Storage ‚Üí Buckets ‚Üí `placements`
   - Click on the bucket to view details
   - Verify file size limit is at least 50MB

2. **If file size limit is too low:**
   - Click **"Edit"** or **"Settings"** on the bucket
   - Update file size limit to `52428800` (50MB)
   - Save changes

3. **You're done!** The placements system will use this existing bucket.

---

## ‚ùì Troubleshooting

### Issue: "Bucket name already exists"
**Solution:** The bucket already exists! Just verify its settings match the requirements above.

### Issue: "Cannot upload files"
**Solution:** 
- Check that bucket name is exactly `placements`
- Verify file size limit is sufficient (50MB)
- Check storage policies (see Step 3 in SUPABASE_PLACEMENTS_SETUP.md)

### Issue: "File size limit too low"
**Solution:** 
- Edit the bucket settings
- Increase file size limit to `52428800` (50MB) or higher
- Save changes

---

## üì∏ Visual Guide Locations

1. **Storage Section:** Left sidebar ‚Üí Storage
2. **New Bucket Button:** Top right of Storage page
3. **Bucket Settings:** In the create/edit bucket dialog
4. **Bucket List:** Main Storage page shows all buckets

---

## ‚úÖ You're Done!

Once the bucket is created with the correct settings, the placements system will automatically use it for document uploads. No additional configuration needed!

